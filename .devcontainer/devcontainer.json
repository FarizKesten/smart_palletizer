{
  "name": "ros2-foxy-gui",
  "build": {
    "dockerfile": "../Dockerfile"
  },
  "runArgs": [
    "--net=host",                      // Needed for ROS 2 discovery
    "-e", "DISPLAY=${localEnv:DISPLAY}", // Pass host DISPLAY env
    "-e", "QT_X11_NO_MITSHM=1",       // Avoid shared memory issues
    "-v", "/tmp/.X11-unix:/tmp/.X11-unix", // Mount X11 socket
    "--privileged"                    // Needed for some GUI/Gazebo features
  ],
  "customizations": {
    "vscode": {
      "extensions": [
        "ms-iot.vscode-ros",
        "ms-vscode.cpptools"
      ]
    }
  },
  "mounts": [
    "source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=cached"
  ],
  "workspaceFolder": "/workspace",
  "postCreateCommand": "bash -c 'source /opt/ros/noetic/setup.bash && roscore & sleep 3 && rostopic list'"



}
